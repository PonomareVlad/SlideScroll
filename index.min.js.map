{
  "version": 3,
  "sources": [
    "index.js"
  ],
  "names": [],
  "mappings": "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",
  "file": "index.min.js",
  "sourcesContent": [
    "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.debounce = debounce;\nexports.default = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar SlideScroll =\n/*#__PURE__*/\nfunction () {\n  function SlideScroll() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$sliderNode = _ref.sliderNode,\n        sliderNode = _ref$sliderNode === void 0 ? '[data-slider-viewport]' : _ref$sliderNode,\n        _ref$scrollEventDelay = _ref.scrollEventDelay,\n        scrollEventDelay = _ref$scrollEventDelay === void 0 ? 1 : _ref$scrollEventDelay,\n        _ref$debug = _ref.debug,\n        debug = _ref$debug === void 0 ? false : _ref$debug;\n\n    _classCallCheck(this, SlideScroll);\n\n    this.options = {\n      sliderNode: sliderNode,\n      scrollEventDelay: scrollEventDelay,\n      debug: debug\n    };\n    this.attachConsoleProxy(); // if (forceInitOnLoad) return this.listenEvent('load', this.init);\n\n    document.readyState === 'complete' ? this.init() : this.listenEvent('load', this.init);\n  }\n\n  _createClass(SlideScroll, [{\n    key: \"init\",\n    value: function init() {\n      this.options.sliderNode = this.options.sliderNode instanceof Node ? this.options.sliderNode : document.querySelector(this.options.sliderNode); // Кэширование списка слайдов\n\n      this.loadSectionsList(); // Событие прокрутки на целевом узле\n\n      this.listenEvent('scroll', this.scrollEventHandler, document);\n    }\n  }, {\n    key: \"scrollEventHandler\",\n    value: function scrollEventHandler() {\n      var _this = this;\n\n      // Ограничение такта вызова обработчика события скролла\n      return debounce(function () {\n        // Перебор всех закэшированных слайдов\n        _this.slidesList.forEach(function (slideNode) {\n          if (document.scrollingElement.scrollTop < slideNode.dimThreshold) return _this.setSlideDim(slideNode, 100);else if (document.scrollingElement.scrollTop > slideNode.sectionOffset) return _this.setSlideDim(slideNode, 0);else _this.setSlideDim(slideNode, (slideNode.sectionOffset - document.scrollingElement.scrollTop) / (window.innerHeight / 100));\n        }); // Установка времени задержки для ограничения такта\n\n      }, this.options.scrollEventDelay)();\n    }\n  }, {\n    key: \"setSlideDim\",\n    value: function setSlideDim(slideNode, dim) {\n      if (slideNode.dim === dim) return true;\n      slideNode.style.setProperty('--dim-opacity', dim / 100);\n      slideNode.dim = dim;\n    }\n  }, {\n    key: \"loadSectionsList\",\n    value: function loadSectionsList() {\n      // Выборка и кэширование списка слайдов\n      this.slidesList = this.options.sliderNode.querySelectorAll('[data-slide-wrapper]');\n      this.slidesList.forEach(function (slideNode, number) {\n        slideNode.style.setProperty('--slide-number', number + 1);\n        slideNode.sectionOffset = window.innerHeight * number;\n        slideNode.dimThreshold = slideNode.sectionOffset - window.innerHeight;\n        slideNode.dim = 0;\n      });\n      this.console.debug(\"\".concat(this.slidesList.length, \" slides loaded\"), this.slidesList);\n    }\n  }, {\n    key: \"listenEvent\",\n    value: function listenEvent(event, listener) {\n      var target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : window;\n      return target.addEventListener.call(target, event, listener.bind(this));\n    }\n  }, {\n    key: \"attachConsoleProxy\",\n    value: function attachConsoleProxy() {\n      var _this2 = this;\n\n      this.console = ['log', 'debug', 'error'].reduce(function (proxyObject, method) {\n        return (proxyObject[method] = function () {\n          var _console$method;\n\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          return _this2.options.debug ? (_console$method = console[method]).call.apply(_console$method, [console].concat(args)) : null;\n        }) && proxyObject;\n      }, {});\n    }\n  }]);\n\n  return SlideScroll;\n}();\n\nexports.default = SlideScroll;\n\nfunction debounce(func, wait) {\n  // Уменьшение тактов вызова функции\n  var timeout;\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    var context = this;\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      return func.apply(context, args);\n    }, wait);\n  };\n} // Проброс класса в глобальную область видимости\n\n\nwindow.SlideScroll = SlideScroll;\n"
  ]
}