<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Slide Scroll</title>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
    <link href="index.css" rel="stylesheet">

    <!-- ES6+ Modules import -->
    <script type="module">
        import SlideScroll from './index.mjs';
        import UrlScroll from './urlscrolling/index.mjs';

        window.slideScroll = new SlideScroll({
            // activeHook: slideNode => dataLayer.push({'event': 'foto_' + slideNode.order})
            // activeHook: urlscroll.setSectionState.bind(urlscroll),
            debug: true
        });

        slideScroll.onReady(() => {
            window.urlscroll = new UrlScroll({
                scrollNode: '[data-slider-viewport]',
                scrollEventNode: false,
                debug: true,
                customRouterScrollWorker: node => {
                    SlideScroll.calcSlideOffsets(node);
                    SlideScroll.setSlideDisplay(node, true);
                    SlideScroll.setSlideDim(node, 0);
                    UrlScroll.asyncThread(() => window.scrollTo(0, node.sectionOffset))
                }
            });
            slideScroll.setOption('activeHook', urlscroll.setSectionState.bind(urlscroll))
        });

    </script>

    <!-- CommonJS modules import (Emulation) for older browsers -->
    <script nomodule src="index.js"></script>
    <script nomodule src="urlscrolling/index.js"></script>
    <script nomodule>
        window.urlscroll = new UrlScroll({scrollNode: '[data-slider-viewport]', scrollEventNode: false, debug: true});
        window.slideScroll = new SlideScroll({
            // activeHook: slideNode => dataLayer.push({'event': 'foto_' + slideNode.order})
            activeHook: urlscroll.setSectionState.bind(urlscroll)
        });
    </script>

</head>
<body>

<main data-slider-viewport>

    <section data-slide-wrapper id="0">
        <div data-slide-content style="background-image: url('https://picsum.photos/1024/?random&0')">
            <div data-slide-caption-animation>
                <h1>Тест 0</h1>
                <p>Тестовый</p>
            </div>
        </div>
    </section>
    <section data-slide-wrapper id="1">
        <div data-slide-content style="background-image: url('https://picsum.photos/1024/?random&1')">
            <div data-slide-caption-animation>
                <h1>Тест 1</h1>
                <p>Тестовый</p>
            </div>
        </div>
    </section>
    <section data-slide-wrapper id="2">
        <div data-slide-content style="background-image: url('https://picsum.photos/1024/?random&2')">
            <div data-slide-caption-animation>
                <h1>Тест 2</h1>
                <p>Тестовый</p>
            </div>
        </div>
    </section>
    <section data-slide-wrapper id="3">
        <div data-slide-content style="background-image: url('https://picsum.photos/1024/?random&3')">
            <div data-slide-caption-animation>
                <h1>Тест 3</h1>
                <p>Тестовый</p>
            </div>
        </div>
    </section>
    <section data-slide-wrapper id="4">
        <div data-slide-content style="background-image: url('https://picsum.photos/1024/?random&4')">
            <div data-slide-caption-animation>
                <h1>Тест 4</h1>
                <p>Тестовый</p>
            </div>
        </div>
    </section>
    <section data-slide-wrapper id="5">
        <div data-slide-content style="background-image: url('https://picsum.photos/1024/?random&5')">
            <div data-slide-caption-animation>
                <h1>Тест 5</h1>
                <p>Тестовый</p>
            </div>
        </div>
    </section>
    <section data-slide-wrapper id="6">
        <div data-slide-content style="background-image: url('https://picsum.photos/1024/?random&6')">
            <div data-slide-caption-animation>
                <h1>Тест 6</h1>
                <p>Тестовый</p>
            </div>
        </div>
    </section>
    <section data-slide-wrapper id="7">
        <div data-slide-content style="background-image: url('https://picsum.photos/1024/?random&7')">
            <div data-slide-caption-animation>
                <h1>Тест 7</h1>
                <p>Тестовый</p>
            </div>
        </div>
    </section>
    <section data-slide-wrapper id="8">
        <div data-slide-content style="background-image: url('https://picsum.photos/1024/?random&8')">
            <div data-slide-caption-animation>
                <h1>Тест 8</h1>
                <p>Тестовый</p>
            </div>
        </div>
    </section>
    <section data-slide-wrapper id="9">
        <div data-slide-content style="background-image: url('https://picsum.photos/1024/?random&9')">
            <div data-slide-caption-animation>
                <h1>Тест 9</h1>
                <p>Тестовый</p>
            </div>
        </div>
    </section>
    <section data-slide-wrapper id="10">
        <div data-slide-content style="background-image: url('https://picsum.photos/1024/?random&10')">
            <div data-slide-caption-animation>
                <h1>Тест 10</h1>
                <p>Тестовый</p>
            </div>
        </div>
    </section>
    <section data-slide-wrapper id="11">
        <div data-slide-content style="background-image: url('https://picsum.photos/1024/?random&11')">
            <div data-slide-caption-animation>
                <h1>Тест 11</h1>
                <p>Тестовый</p>
            </div>
        </div>
    </section>
    <section data-slide-wrapper id="12">
        <div data-slide-content style="background-image: url('https://picsum.photos/1024/?random&12')">
            <div data-slide-caption-animation>
                <h1>Тест 12</h1>
                <p>Тестовый</p>
            </div>
        </div>
    </section>
    <section data-slide-wrapper id="13">
        <div data-slide-content style="background-image: url('https://picsum.photos/1024/?random&13')">
            <div data-slide-caption-animation>
                <h1>Тест 13</h1>
                <p>Тестовый</p>
            </div>
        </div>
    </section>
    <section data-slide-wrapper id="14">
        <div data-slide-content style="background-image: url('https://picsum.photos/1024/?random&14')">
            <div data-slide-caption-animation>
                <h1>Тест 14</h1>
                <p>Тестовый</p>
            </div>
        </div>
    </section>
    <section data-slide-wrapper id="15">
        <div data-slide-content style="background-image: url('https://picsum.photos/1024/?random&15')">
            <div data-slide-caption-animation>
                <h1>Тест 15</h1>
                <p>Тестовый</p>
            </div>
        </div>
    </section>
    <section data-slide-wrapper id="16">
        <div data-slide-content style="background-image: url('https://picsum.photos/1024/?random&16')">
            <div data-slide-caption-animation>
                <h1>Тест 16</h1>
                <p>Тестовый</p>
            </div>
        </div>
    </section>

</main>

</body>
</html>